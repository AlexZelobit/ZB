# Есть PULL и PUSH архитектуры

PUSH - самая популярное решение. В один момент с сервера отправляется команды
PULL - стоит агент на машине, который сам берет конфигурацию с сервера обновления.

# Самые популярные системы управления конфигурацией

Shef
Puppet
SaltStack
**Ansible** написан на python. Поэтому сперва нужно установить пакет python

# Anible установка и настройка

sudo apt install python3
sudo apt-get install ansible

<!-- sudo pip install ansible==2.9.9 -->

прверяем версию
ansible --version

<!-- sudo apt search ansible чтобы узнать название пакетов-->

# Команды

<!-- Для одиночного запуска на конкретный сервер -->

ansible

<!-- Для запуска текстовой конфигурации -->

ansible-playbook
cat deploy-application.yaml **прописываем конфигурацию**
ansible-doc -l | vim - **список модулей с кратким описанием**
ansible-doc file **список управления модулем**
/usr/lib/python3/dist-packages/ansible/modules/file.py
ansible-playbook --version

<!-- tmux - это, пожалуй, самый гибкий и удобный для разделения экрана терминальный мультиплексор, ориентированный на клавиатуру.
Если вы используете tmux в первую очередь для разделения экрана, то единственные команды, которые вам действительно нужны, это:

Ctrl-B % для разделения экрана по вертикали (одна оболочка слева, одна - справа)
Ctrl-B" для разбиения по горизонтали (одна оболочка вверху, другая - ниже)
Ctrl-B O для активации другой оболочки
Ctrl-B ? для получения помощи
Ctrl-B d для отключения от Tmux, оставив его работать в фоновом режиме (используйте команду tmux attach для повторного входа) -->

# ВАЖНО

<!-- При написании ansible-play важно соблюдать отступ и не пользоваться табом! -->

- name: Directory
  hosts: localhost
  tasks:
  - name: Create /tmp/base_root
    file:
    path: /tmp/base_root
    state: directory
  - name: Create version file
    file:
    path: /tmp/base_root/version.txt
    state: touch
